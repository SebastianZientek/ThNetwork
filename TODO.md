1. Logger refactoring:
    - change rval ref to const refs
    - reduce code duplication
    - introduce "warning level?
    - check all ussages of logger and change to correct one